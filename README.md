# wormhole_pub
## Описание
В данном репозитории содержится пример настройки xray/vless в среде docker. 

В качестве фронта на 443 порту мы оставляем xray. Caddy используется для управления и
обнвления сертификатов, а также в качестве fallback c заглушкой из простого html.

## Настройка и запуск
Для того, чтобы избежать DPI и последующего бана рекомендуется использовать только 
собственные домены и соответствующие им валидные сертификаты. 

Подготовка
1. Установить на сервер qrencode

Запуск
1. В файле settings.conf изменить название домена на свой
    при желании можно поменять и другие параметры
2. Запустить ./init.sh your_username
    команда подставит ваш домена во все конфиги создаст пользователя your_username и запустит контейнеры

Добавление новых пользователей
1. Запустить ./add_client.sh user2
    
## Настройка клиентов
Скачайте и установите [V2RayN](https://en.v2rayn.org/download/) для Windows, MacOS или 
[V2RayNG](https://github.com/2dust/v2rayNG) для Android

Настройте в соответствии с настройками вашего сервера. 

[!WARNING] Напоминаю, что xray - не является VPN в классическом виде. Клиент для Android
будет работать в режиме VPN, маршрутизируя весь трафик на xray. Клиент на Windows и Mac OS
будет работать в режиме **раздельного проксирования на основе данных из geo-файлов**. Пожалуйста
изучите принцип работы маршрутизации на основе geo-файлов 
([например](https://habr.com/ru/articles/853796/)) для понимания, как будет работать ваш клиент
